<div class="book-list-container">
    <!-- Header -->
    <div class="header">
        <h1>QU·∫¢N L√ù TH√îNG TIN S√ÅCH</h1>
        <button class="btn-create" (click)="onCreateNew()">Create New</button>
    </div>

    <!-- Loading State -->
    @if (loading) {
    <div class="loading">
        <div class="spinner"></div>
        <p>ƒêang t·∫£i danh s√°ch s√°ch...</p>
    </div>
    }

    <!-- Empty State -->
    @else if (books.length === 0) {
    <div class="empty-state">
        <div class="empty-icon">üìö</div>
        <h3>Ch∆∞a c√≥ s√°ch n√†o</h3>
        <p>Nh·∫•n "Create New" ƒë·ªÉ th√™m s√°ch m·ªõi</p>
    </div>
    }

    <!-- Books Table -->
    @else {
    <div class="table-container">
        <table class="books-table">
            <thead>
                <tr>
                    <th>Tensach</th>
                    <th>Giaban</th>
                    <th>Mota</th>
                    <th>Anhbia</th>
                    <th>Ngaycapnhat</th>
                    <th>Soluongton</th>
                    <th>MaCD</th>
                    <th>MaNXB</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @for (book of books; track book.id) {
                <tr>
                    <td class="book-title-cell">{{ book.tenSach }}</td>
                    <td class="price-cell">{{ formatPrice(book.giaBan) }}</td>
                    <td class="description-cell">{{ book.moTa }}</td>
                    <td class="image-cell">
                        <img [src]="getImageUrl(book.anhBia)" [alt]="book.tenSach" class="book-thumbnail"
                            onerror="this.src='data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2260%22 height=%2280%22%3E%3Crect fill=%22%23ddd%22 width=%2260%22 height=%2280%22/%3E%3Ctext fill=%22%23999%22 font-family=%22sans-serif%22 font-size=%228%22 dy=%2210.5%22 font-weight=%22bold%22 x=%2250%25%22 y=%2250%25%22 text-anchor=%22middle%22%3ENo Image%3C/text%3E%3C/svg%3E'">
                    </td>
                    <td class="date-cell">{{ book.ngayCapNhat }}</td>
                    <td class="number-cell">{{ book.soLuongTon }}</td>
                    <td class="number-cell">{{ book.maCD }}</td>
                    <td class="number-cell">{{ book.maNXB }}</td>
                    <td class="actions-cell">
                        <div class="action-links">
                            <a (click)="onEdit(book)" class="action-link edit-link">Edit</a>
                            <a (click)="onViewDetails(book)" class="action-link details-link">Details</a>
                            <a (click)="onDelete(book)" class="action-link delete-link">Delete</a>
                        </div>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
    }
</div>